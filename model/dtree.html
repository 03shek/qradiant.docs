<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Model &gt; Decide &gt; Decision analysis</title>

<script src="libs/header-attrs-2.14/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="libs/navigation-1.1/tabsets.js"></script>

<style type="text/css">

/* padding for bootstrap navbar */
body {
  padding-top: 50px;
  padding-bottom: 40px;
}

/* offset scroll position for anchor links (for fixed navbar)  */
.section h2 {
  padding-top: 55px;
  margin-top: -55px;
}
.section h3 {
  padding-top: 55px;
  margin-top: -55px;
}

/* don't use link color in navbar */
.dropdown-menu>li>a {
	display: inline;
  color: black;
  padding-top: 0;
  padding-bottom: 0;
}

.dropdown-menu .divider {
	margin-top: 2px;
	margin-bottom: 2px;
}

img {
  max-width: 85% !important;
}

/*
img.center {
  display: block;
  margin: 0 auto;
}
*/

</style>

<link rel="stylesheet" href="libs/font-awesome-4.1.0/css/font-awesome.min.css"/>
<link rel="shortcut icon" type="image/png" href="/docs/images/icon.png"/>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>



<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  { color: #cccccc; background-color: #303030; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ffcfaf; } /* Alert */
code span.an { color: #7f9f7f; font-weight: bold; } /* Annotation */
code span.at { } /* Attribute */
code span.bn { color: #dca3a3; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #f0dfaf; } /* ControlFlow */
code span.ch { color: #dca3a3; } /* Char */
code span.cn { color: #dca3a3; font-weight: bold; } /* Constant */
code span.co { color: #7f9f7f; } /* Comment */
code span.cv { color: #7f9f7f; font-weight: bold; } /* CommentVar */
code span.do { color: #7f9f7f; } /* Documentation */
code span.dt { color: #dfdfbf; } /* DataType */
code span.dv { color: #dcdccc; } /* DecVal */
code span.er { color: #c3bf9f; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #c0bed1; } /* Float */
code span.fu { color: #efef8f; } /* Function */
code span.im { } /* Import */
code span.in { color: #7f9f7f; font-weight: bold; } /* Information */
code span.kw { color: #f0dfaf; } /* Keyword */
code span.op { color: #f0efd0; } /* Operator */
code span.ot { color: #efef8f; } /* Other */
code span.pp { color: #ffcfaf; font-weight: bold; } /* Preprocessor */
code span.sc { color: #dca3a3; } /* SpecialChar */
code span.ss { color: #cc9393; } /* SpecialString */
code span.st { color: #cc9393; } /* String */
code span.va { } /* Variable */
code span.vs { color: #cc9393; } /* VerbatimString */
code span.wa { color: #7f9f7f; font-weight: bold; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>







<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>



<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">



<div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="https://github.com/radiant-rstats/docs">Radiant</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li><a href="/docs/index.html">Home</a></li>
        <li><a href="/docs/news.html">News</a></li>
        <li><a href="/docs/install.html">Install</a></li>
        <li class="dropdown">
          <a href="/docs/data/" class="dropdown-toggle" data-toggle="dropdown" role="button"
            aria-expanded="false">Data<span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="/docs/data/manage.html">Manage</a></li>
            <li><a href="/docs/data/view.html">View</a></li>
            <li><a href="/docs/data/visualize.html">Visualize</a></li>
            <li><a href="/docs/data/pivotr.html">Pivot</a></li>
            <li><a href="/docs/data/explore.html">Explore</a></li>
            <li><a href="/docs/data/transform.html">Transform</a></li>
            <li><a href="/docs/data/combine.html">Combine</a></li>
          </ul>
        </li>

        <li class="dropdown">
          <a href="/docs/design/" class="dropdown-toggle" data-toggle="dropdown" role="button"
            aria-expanded="false">Design<span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li class="dropdown-header">DOE</li>
            <li><a href="/docs/design/doe.html">Design of Experiments (DOE)</a></li>
            <li class="divider"></li>
            <li class="dropdown-header">Sample</li>
            <li><a href="/docs/design/sampling.html">Random sampling</a></li>
            <li><a href="/docs/design/randomizer.html">Random assignment</a></li>
            <li><a href="/docs/design/sample_size.html">Sample size (single)</a></li>
            <li><a href="/docs/design/sample_size_comp.html">Sample size (compare)</a></li>
          </ul>
        </li>

        <li class="dropdown">
          <a href="/docs/basics/" class="dropdown-toggle" data-toggle="dropdown" role="button"
            aria-expanded="false">Basics<span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li class="dropdown-header">Probability</li>
            <li><a href="/docs/basics/prob_calc.html">Probability calculator</a></li>
            <li><a href="/docs/basics/clt.html">Central Limit Theorem</a></li>
            <li class="divider"></li>
            <li class="dropdown-header">Means</li>
            <li><a href="/docs/basics/single_mean.html">Single mean</a></li>
            <li><a href="/docs/basics/compare_means.html">Compare means</a></li>
            <li class="divider"></li>
            <li class="dropdown-header">Proportions</li>
            <li><a href="/docs/basics/single_prop.html">Single proportion</a></li>
            <li><a href="/docs/basics/compare_props.html">Compare proportions</a></li>
            <li class="divider"></li>
            <li class="dropdown-header">Tables</li>
            <li><a href="/docs/basics/goodness.html">Goodness of fit</a></li>
            <li><a href="/docs/basics/cross_tabs.html">Cross-tabs</a></li>
            <li><a href="/docs/basics/correlation.html">Correlation</a></li>
          </ul>
        </li>

        <li class="dropdown">
          <a href="/docs/model/" class="dropdown-toggle" data-toggle="dropdown" role="button"
            aria-expanded="false">Model<span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li class="dropdown-header">Estimate</li>
            <li><a href="/docs/model/regress.html">Linear regression (OLS)</a></li>
            <li><a href="/docs/model/logistic.html">Logistic regression (GLM)</a></li>
            <li><a href="/docs/model/mnl.html">Multinomial logistic regression (MNL)</a></li>
            <li><a href="/docs/model/nn.html">Neural Network</a></li>
            <li><a href="/docs/model/nb.html">Naive Bayes</a></li>
            <li class="divider"></li>
            <li class="dropdown-header">Trees</li>
            <li><a href="/docs/model/crtree.html">Classification and regression trees</a></li>
            <li><a href="/docs/model/rforest.html">Random Forest</a></li>
            <li><a href="/docs/model/gbt.html">Gradient Boosted Trees</a></li>
            <li class="divider"></li>
            <li class="dropdown-header">Evaluate</li>
            <li><a href="/docs/model/evalreg.html">Evaluate regression</a></li>
            <li><a href="/docs/model/evalbin.html">Evaluate classification</a></li>
            <li class="divider"></li>
            <li class="dropdown-header">Recommend</li>
            <li><a href="/docs/model/crs.html">Collaborative Filtering</a></li>
            <li class="divider"></li>
            <li class="dropdown-header">Decide</li>
            <li><a href="/docs/model/dtree.html">Decision analysis</a></li>
            <li><a href="/docs/model/simulater.html">Simulate</a></li>
          </ul>
        </li>

        <li class="dropdown">
          <a href="/docs/multivariate/" class="dropdown-toggle" data-toggle="dropdown" role="button"
            aria-expanded="false">Multivariate<span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li class="dropdown-header">Maps</li>
            <li><a href="/docs/multivariate/mds.html">(Dis)similarity</a></li>
            <li><a href="/docs/multivariate/prmap.html">Attributes</a></li>
            <li class="divider"></li>
            <li class="dropdown-header">Factor</li>
            <li><a href="/docs/multivariate/pre_factor.html">Pre-factor</a></li>
            <li><a href="/docs/multivariate/full_factor.html">Factor</a></li>
            <li class="divider"></li>
            <li class="dropdown-header">Cluster</li>
            <li><a href="/docs/multivariate/hclus.html">Hierarchical</a></li>
            <li><a href="/docs/multivariate/kclus.html">K-clustering</a></li>
            <li class="divider"></li>
            <li class="dropdown-header">Conjoint</li>
            <li><a href="/docs/multivariate/conjoint.html">Conjoint</a></li>
          </ul>
        </li>
        <li class="dropdown">
          <a href="/docs/R/" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">R<span
              class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="/docs/data/report_rmd.html">Report > Rmd</a></li>
            <li><a href="/docs/data/report_r.html">Report > R</a></li>
            <li><a href="/docs/programming.html">Programming</a></li>
            <li><a href="/docs/resources.html">Resources</a></li>
          </ul>
        </li>
        <li class="dropdown">
          <a href="/docs/tutorials/" class="dropdown-toggle" data-toggle="dropdown" role="button"
            aria-expanded="false">Tutorials<span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="/docs/tutorials.html">Introduction to Radiant</a></li>
            <li><a href="/docs/radiant-tutorial-series.html">Radiant Tutorial Series</a></li>
          </ul>
        </li>
        <li><a href="/docs/about.html">About</a></li>
      </ul>
    </div>
    <!--/.nav-collapse -->
  </div>
  <!--/.container -->
</div>
<!--/.navbar -->

<style>
  .btn,
  .form-control,
  pre,
  code,
  pre code {
    border-radius: 4px;
  }

  .table {
    width: auto;
  }

  ul,
  ol {
    padding-left: 18px;
  }

  code,
  pre,
  pre code {
    overflow: auto;
    white-space: pre;
    word-wrap: normal;
  }

  code {
    color: #c7254e;
    background-color: #f9f2f4;
  }

  pre {
    background-color: #ffffff;
  }
</style>

<div id="header">



<h1 class="title toc-ignore">Model &gt; Decide &gt; Decision analysis</h1>

</div>


<hr />
<blockquote>
<p>Create and evaluate a decision tree for decision analysis</p>
</blockquote>
<p>To create and evaluate a decision tree first (1) enter the structure of the tree in the input editor or (2) load a tree structure from a file. When you first navigate to the <em>Model &gt; Decide &gt; Decision analysis</em> tab you will see an example tree structure. This structure is based on an <a href="https://github.com/gluc/useR15/blob/master/00_data/jennylind.yaml" target="_blank">example</a> by Christoph Glur, the developer of the <a href="https://github.com/gluc/data.tree" target="_blank">data.tree</a> library.</p>
<p>To enter a new structure, start by providing a name for the tree and enter a label in the input box next to the <code>Calculate</code> button. In the example below the name for the decision tree is entered as follow: <code>name: Sign contract</code>. The next step is to indicate the <strong>type</strong> of the first <strong>node</strong>. Options are <code>type: decision</code> or <code>type: chance</code>. Note that we are skipping <code>variables</code> for now but will return to this section below.</p>
<p>In the provided example, the first node is a <strong>decision node</strong>. The decision maker has to decide to <code>Sign with Movie Company</code> or <code>Sign with TV Network</code>. The first option leads to a <strong>chance</strong> node with probabilities and payoffs. The second has a fixed payoff.</p>
<blockquote>
<p><strong>Note:</strong> Indentation is critically important when defining a tree structure. Use tabs to create branches as shown in the example. Names for branches <strong>must</strong> be followed by a <code>:</code> and information about the branch <strong>must</strong> be indented using the <code>tab</code> key.</p>
</blockquote>
<p>After providing the name for the decision <code>Sign with Movie Company</code>, the next line <strong>must</strong> be indented using the <code>tab</code> key. In the example, the next line starts the description of a chance node (<code>type: chance</code>). There are 3 possibilities in the example: (1) <code>Small Box Office</code>, (2) <code>Medium Box Office</code>, and (3) <code>Large Box Office</code>, each with a probability and a payoff. These are end-points for one branch of the tree and are often referred to as <code>terminal nodes</code> or <code>leaves</code>. All endpoints must have a <code>payoff</code> value.</p>
<blockquote>
<p><strong>Note:</strong> Probabilities for a chance node should sum to 1 and all probabilities must be between 0 and 1.</p>
</blockquote>
<p>A decision can also be assigned a <code>cost</code>. For example, if we decide to sign with the movie studio we may incur a cost of $5,000 for legal support. Assume the contract with the TV network is simpler and does not require legal assistance. Note that using <code>costs</code> is optional. In the example we could also subtract $5,000 from each of the possible box-office payoffs.</p>
<p>If some values in the tree are related or repeated it can be useful to use a <code>variables</code> section. Here you can assign labels to values, enter formulas, and even reference other (sub)trees. Note that formulas should only reference entries from the <code>variables</code> section and cannot contain any R-commands. In the <code>Sign contract</code> example only one variable is created (i.e., <code>legal fees</code>). The <em>Sensitivity</em> tab requires that a <code>variables</code> section is included in the tree structure. An adapted version of the <code>Sign contract</code> example that uses more variables and a formula is shown below.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">name</span><span class="kw">:</span><span class="at"> Sign contract</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">variables</span><span class="kw">:</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">legal fees</span><span class="kw">:</span><span class="at"> </span><span class="dv">5000</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">P(small)</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.3</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">P(medium)</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.6</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">P(large)</span><span class="kw">:</span><span class="at"> 1 - P(small) - P(medium)</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">type</span><span class="kw">:</span><span class="at"> decision</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">Sign with Movie Company</span><span class="kw">:</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">cost</span><span class="kw">:</span><span class="at"> legal fees</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">type</span><span class="kw">:</span><span class="at"> chance</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">Small Box Office</span><span class="kw">:</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">p</span><span class="kw">:</span><span class="at"> P(small)</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">payoff</span><span class="kw">:</span><span class="at"> </span><span class="dv">200000</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">Medium Box Office</span><span class="kw">:</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">p</span><span class="kw">:</span><span class="at"> P(medium)</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">payoff</span><span class="kw">:</span><span class="at"> </span><span class="dv">1000000</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">Large Box Office</span><span class="kw">:</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">p</span><span class="kw">:</span><span class="at"> P(large)</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">payoff</span><span class="kw">:</span><span class="at"> </span><span class="dv">3000000</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="fu">Sign with TV Network</span><span class="kw">:</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">payoff</span><span class="kw">:</span><span class="at"> </span><span class="dv">900000</span></span></code></pre></div>
<p>To reference another (sub)tree use the <code>dtree</code> function in the <code>variables</code> section and the name of the (sub)tree. For example, suppose you want to include a tree (“tuesday_tree”) that evaluates a pricing decision on Tuesday into a tree that evaluates a pricing decision on Monday. The start of the <code>variables</code> section might look as follows:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">variables</span><span class="kw">:</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">tuesday_emv</span><span class="kw">:</span><span class="at"> dtree(&quot;tuesday_tree&quot;)</span></span></code></pre></div>
<p>Then in the Monday tree you would refer to <code>tuesday_emv</code> in spots where you need the EMV from Tuesday’s pricing decision.</p>
<div id="rules-for-decision-tree-input" class="section level2">
<h2>Rules for decision tree input</h2>
<ol style="list-style-type: decimal">
<li>Always start with a tree name (e.g., <code>name: My tree</code>)</li>
<li>The second line should start a <code>variables</code> section or a node definition (i.e., type: chance or type: decision)</li>
<li>All lines must have a <code>:</code>. For node names the <code>:</code> ends the line. For all other lines it assigns a value. Specifically, it assigns a name (e.g., <code>name: My tree</code>), a node type (e.g., <code>type: decision</code>), a variable (e.g., <code>legal fees: 5000</code>), or a number (e.g., <code>payoff: 100</code>, <code>p: 0.1</code>, <code>cost: 10</code>)</li>
<li>A node type must be followed on the next line by a node name (e.g., <code>Cancel orders:</code>)</li>
<li>Use only letters and spaces in node names (i.e., no symbols)</li>
<li>The line after a node name must <strong>always</strong> be indented</li>
<li>End (or terminal or leave) nodes must have a payoff (e.g., <code>payoff: 100</code>)</li>
<li>If linked to a chance node, terminal nodes must have a probability (e.g, <code>p: 0.4</code>) and a payoff</li>
</ol>
<p>After specifying the tree structure in the editor, press the <code>Calculate</code> button to see the <code>Initial</code> and <code>Final</code> decision tree in text format on the right side of the screen (see screen shot below). The initial tree simply shows the tree structure that was specified, together with the node types, probabilities, costs, and payoffs. The final tree shows the optimal decision strategy determined by <code>folding-back</code> the tree. In this case, the optimal decision is to <code>Sign with Movie Company</code> because this decision has a higher <strong>Expected Monetary Value (EMV)</strong>.</p>
<p align="center">
<img src="figures_model/dtree_model.png">
</p>
<p>For a visual representation of the decision tree open the <em>Plot</em> tab. If you already clicked the <code>Calculate</code> button in the <em>Model</em> tab you will see a graph of the <code>Initial</code> decision tree (see screen shot below). Decision nodes are shown in green and chance nodes in orange. If the tree does not look as you intended/expected, return to the <em>Model</em> tab and edit the tree structure.</p>
<p align="center">
<img src="figures_model/dtree_plot_initial.png">
</p>
<p>The <code>Final</code> graph shows the optimal decision determined by <code>folding-back</code> the tree. The optimal decision is to <code>Sign with Movie Company</code> because this decision has a higher <strong>Expected Monetary Value</strong>. Note that the optimal decision at each decision node is shown by a thicker line connecting to the nodes.</p>
<p align="center">
<img src="figures_model/dtree_plot_final.png">
</p>
<p>The EMV for <code>Sign with TV Network</code> is $900,000. If we ignore costs the expected payoff from <code>Sign with Movie Company</code> is:</p>
<p><span class="math display">\[
  0.3 \times 200,000 + 0.6 \times 1,000,000 + 0.1 \times 3000,000 = 960,000
\]</span></p>
<p>The EMV from signing with the movie company is however <span class="math inline">\(960,000 - 5,000 = 955,000\)</span> because we do incur a cost of $5,000 in legal fees. Hover the cursor over the chance node shown on screen to see a <code>tooltip</code> that shows the calculation. To highlight that a <code>cost</code> was specified the chance node in the figure has a dashed outer line.</p>
<p>In the <code>Sign contract</code> example it is clear that <code>Sign with Movie Company</code> is the preferred option. However, suppose the legal fees associated with this option were $10,000, or $30,000, would we still choose the same option? This is where the <em>Sensitivity</em> tab is useful. Here we can evaluate how decisions (e.g., <code>Sign with Movie Company</code> and <code>Sign with TV Network</code>) would change if the legal fee changes. Enter 0 as the <code>Min</code> value, 80000 as the <code>Max value</code>, 10000 as the <code>Step</code> size, and then press the <i class="fa fa-plus"></i> icon. After pressing <code>Evaluate sensitivity</code> a graph will be shown that illustrates how payoffs for the decisions change. Notice that for legal fees higher than $60,000 <code>Sign with TV Network</code> produces the highest EMV.</p>
<p align="center">
<img src="figures_model/dtree_sensitivity.png">
</p>
</div>
<div id="video-tutorials" class="section level2">
<h2>Video Tutorials</h2>
<p>Copy-and-paste the full command below into the RStudio console (i.e., the bottom-left window) and press return to gain access to all materials used in the decision tree module of the <a href="https://www.youtube.com/playlist?list=PLNhtaetb48EdKRIY7MewCyvb_1x7dV3xw" target="_blank">Radiant Tutorial Series</a>:</p>
<pre>usethis::use_course("https://www.dropbox.com/sh/bit4p1ffbkb2dgh/AACm1RVy2BxBDiVbjoLiN5_Ea?dl=1")</pre>
<p><a href="https://youtu.be/plSeVJ7c-Iw" target="_blank">Introduction to Decision Analysis (#1)</a></p>
<ul>
<li>This video walks you through the required steps to construct and solve a basic decision tree by hand</li>
<li>Topics List:
<ul>
<li>Chance nodes vs. decision nodes</li>
<li>Folding back the tree (i.e., start from the right-most nodes and work backwards to the left-most nodes)</li>
</ul></li>
</ul>
<p><a href="https://youtu.be/dBySH3z2Paw" target="_blank">Using Radiant to Construct a Decision Tree (#2)</a></p>
<ul>
<li>This video demonstrates how to construct a basic decision tree in Radiant</li>
<li>Topics List:
<ul>
<li>Rename a tree file</li>
<li>Construct a tree (following the rules for decision tree input)</li>
<li>Interpret the results (initial tree vs final tree)</li>
<li>Save the decision tree input .yaml file</li>
</ul></li>
</ul>
<p><a href="https://youtu.be/NlvWCU8UhTc" target="_blank">How to Write Decision Tree Results into a Report (#3)</a></p>
<ul>
<li>This video demonstrates how to construct a basic decision tree in Radiant and add the generated R-code to a report</li>
<li>Topics List:
<ul>
<li>Construct a decision tree and define variables in the decision tree</li>
<li>Add multiple trees to a report</li>
<li>Demo some useful keyboard shortcuts</li>
<li>Save the Radiant state file and the report</li>
</ul></li>
</ul>
<p><a href="https://youtu.be/c_pCCCn6FEw" target="_blank">Sensitivity Analysis of Decision Tree (#4)</a></p>
<ul>
<li>This video shows two ways to conduct sensitivity analysis of a decision tree in Radiant</li>
<li>Topics List:
<ul>
<li>Quick review of writing decision tree results to a report</li>
<li>Method 1: manually update the value</li>
<li>Method 2: use “variables”</li>
</ul></li>
</ul>
<p><a href="https://youtu.be/oiwv15bbjzs" target="_blank">How to Debug Decision Tree Input (#5)</a></p>
<ul>
<li>This video demonstrates how to debug decision tree input if you get an error message</li>
<li>Topics List:
<ul>
<li>Colon missing</li>
<li>Indent issue</li>
<li>Probabilities don’t sum to 1</li>
<li>Value missing</li>
</ul></li>
</ul>
<p><a href="https://youtu.be/xuv9zgAcvCQ" target="_blank">Decision Trees with Imperfect Information (#6)</a></p>
<ul>
<li>This video shows how to determine the appropriate (conditional) probabilities to use in a decision tree when the available information is imperfect</li>
<li>Topics List:
<ul>
<li>Imperfect information</li>
<li>Test</li>
<li>Conditional probabilities</li>
</ul></li>
</ul>
<p><a href="https://youtu.be/cVrYFFX3xN0" target="_blank">Solving a Decision Tree with Imperfect Information (#7)</a></p>
<ul>
<li>This video shows how to use Radiant to construct and solve a decision tree when the available information is imperfect</li>
<li>Topics List:
<ul>
<li>Specify variables</li>
<li>Build a tree with imperfect information</li>
<li>Check the tree</li>
<li>Interpret the decision tree result</li>
</ul></li>
</ul>
<p><a href="https://youtu.be/Mi-eZEoU9TE" target="_blank">Building a Decision Tree with Sub-trees in Radiant (#8)</a></p>
<ul>
<li>This video shows how to build a decision tree with sub-trees in radiant</li>
<li>Topics List:
<ul>
<li>Create a main tree that references a sub-tree</li>
<li>Specify a sub-tree that references the main tree in the variables section</li>
</ul></li>
</ul>
<p>For the full “Radiant Tutorial Series” see the link below:</p>
<p><a href="https://www.youtube.com/playlist?list=PLNhtaetb48EdKRIY7MewCyvb_1x7dV3xw" target="_blank">https://www.youtube.com/playlist?list=PLNhtaetb48EdKRIY7MewCyvb_1x7dV3xw</a></p>
</div>
<div id="buttons" class="section level2">
<h2>Buttons</h2>
<p>In the <em>Model</em> tab:</p>
<ul>
<li>To see this help file click the <i class="fa fa-question" ></i> icon</li>
<li>To generate a report about the decision tree in the <em>Report &gt; Rmd</em> tab click the <i class="fa fa-edit" ></i> icon or press <code>ALT-enter</code> on your keyboard</li>
<li>Choose to maximize (<code>Max</code>) or minimize (<code>Min</code>) payoffs. Note that payoffs can be negative</li>
<li>Click the <code>Calculate</code> button or press <code>CTRL-enter</code> (<code>CMD-enter</code> on mac) to generate or update results</li>
<li>Specify a name for your decision tree in the text input next to the <code>Calculate</code> button. Clicking on the <code>Calculate</code> button will store your settings. If multiple tree structures are available there will also be a dropdown where you can select which structure to use and a <code>Remove</code> button to delete tree structures</li>
<li>To save the tree structure entered into the editor window to disk press the <code>Save input</code> button</li>
<li>To save the text representation of the initial and final tree to a file click the <code>Save output</code> button</li>
<li>To load a tree structure from a file in <code>yaml</code> format click the <code>Choose File</code> button</li>
</ul>
<p>In the <em>Plot</em> tab:</p>
<ul>
<li>To see this help file click the <i class="fa fa-question" ></i> icon</li>
<li>To generate a report about the decision tree in the <em>Report &gt; Rmd</em> tab click the <i class="fa fa-edit" ></i> icon or press <code>ALT-enter</code> on your keyboard</li>
<li>Show either the <code>Initial</code> or <code>Final</code> decision tree</li>
<li>Click the <code>Calculate</code> button or press <code>CTRL-enter</code> (<code>CMD-enter</code> on mac) to generate or update results</li>
<li>Enter the number of decimal places to show in the plot (default is 2 for payoffs and 4 for probabilities)</li>
<li>Provide a symbol to use for the payoffs (e.g., $ or RMB)</li>
<li>Click the download icon in the top right of your browser to <em>print</em> either the initial or final plot to a pdf-file</li>
</ul>
<p>It is not currently possible to add a title or caption directly to the <code>Decision Tree</code> plot.</p>
<p>In the <em>Sensitivity</em> tab:</p>
<ul>
<li>To see this help file click the <i class="fa fa-question" ></i> icon</li>
<li>To generate a report about the decision tree in the <em>Report &gt; Rmd</em> tab click the <i class="fa fa-edit" ></i> icon or press <code>ALT-enter</code> on your keyboard</li>
<li>Select one or more <code>Decisions to evaluate</code></li>
<li>Select variables in <code>Sensitivity to changes in</code>. These variables must be defined in the <code>variables</code> section of the decision tree structure in the <em>Model</em> tab</li>
<li>Enter the minimum, maximum, and step size for the selected variable and press the <i class="fa fa-plus"></i> icon</li>
<li>Press <code>Evaluate sensitivity</code> or press <code>CTRL-enter</code> (<code>CMD-enter</code> on mac) to generate results and the plot</li>
<li>Click the download icon in the top right of your browser to <em>print</em> either the initial or final plot to a pdf-file</li>
</ul>
<p>If a sensitivity plot was created it can be customized using <code>ggplot2</code> commands (see example below). See <a href="https://radiant-rstats.github.io/docs/data/visualize.html" target="_blank"><em>Data &gt; Visualize</em></a> for details.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sensitivity</span>(</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  result, </span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">vars =</span> <span class="st">&quot;legal fees 0 100000 1000;&quot;</span>, </span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">decs =</span> <span class="fu">c</span>(<span class="st">&quot;Sign with Movie Company&quot;</span>, <span class="st">&quot;Sign with TV Network&quot;</span>), </span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">custom =</span> <span class="cn">TRUE</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>) <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">caption =</span> <span class="st">&quot;Based on example created by ...&quot;</span>)</span></code></pre></div>
</div>
<div id="the-decision-tree-editor" class="section level2">
<h2>The decision tree editor</h2>
<p>Useful keyboard short-cuts:</p>
<ul>
<li>Comment current or selected line(s) (Win: Ctrl-/ Mac: Cmd-/)</li>
<li>Fold all lines (Win: Alt-0 Mac: Alt-Cmd-0)</li>
<li>Unfold all lines (Win: Shift-Alt-0 Mac: Shift-Alt-Cmd-0)</li>
<li>Search (Win: Ctrl-f, Mac: Cmd-f)</li>
<li>Search &amp; Replace (Win: Ctrl-f-f, Mac: Cmd-f-f)</li>
<li>Undo edit (Win: Ctrl-z, Mac: Cmd-z)</li>
<li>Redo edit (Win: Shift-Ctrl-z, Mac: Shift-Cmd-z)</li>
</ul>
<p>You can also (un)fold lines using the small triangles next to the line numbers.</p>
<p>For additional shortcuts see:</p>
<p><a href="https://github.com/ajaxorg/ace/wiki/Default-Keyboard-Shortcuts" target="_blank">https://github.com/ajaxorg/ace/wiki/Default-Keyboard-Shortcuts</a></p>
<div id="r-functions" class="section level3">
<h3>R-functions</h3>
<p>For an overview of related R-functions used by Radiant for decision analysis see <a href = "https://radiant-rstats.github.io/radiant.model/reference/index.html#section-model-decision-analysis" target="_blank"><em>Model &gt; Decision analysis</em></a>.</p>
<p>The key elements from the <code>data.tree</code> package used in the <code>dtree</code> tool are the <code>as.Node</code> function and the <code>Get</code> and <code>Do</code> methods.</p>
</div>
</div>


&copy; Vincent Nijs (2019) <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank"><img alt="Creative Commons License" style="border-width: 0" src="/docs/images/by-nc-sa.png"/></a>

<!-- some extra javascript for older browsers -->
<script type="text/javascript" src="libs/polyfill.js"></script>

<!-- mathjax -->
<!-- <script type='text/javascript' src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script> -->

<script>

  // manage active state of menu based on current page
  $(document).ready(function () {

      // active menu
      href = window.location.pathname
      href = href.substr(href.lastIndexOf('/') + 1)
      $('a[href="' + href + '"]').parent().addClass('active');

      // manage active menu header
      if (href.startsWith('authoring_'))
        $('a[href="' + 'authoring' + '"]').parent().addClass('active');
      else if (href.endsWith('_format.html'))
        $('a[href="' + 'formats' + '"]').parent().addClass('active');
      else if (href.startsWith('developer_'))
        $('a[href="' + 'developer' + '"]').parent().addClass('active');

  });

  // Google analytics
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-61296577-2', 'auto');
  ga('send', 'pageview');

</script>



</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
